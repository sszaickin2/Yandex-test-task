(()=>{"use strict";const t={};function e(){if(location.hash)return location.hash.replace("#","")}let n=!0,s=(t=500)=>{if(n){const e=document.querySelectorAll("[data-lp]");setTimeout(()=>{e.forEach(t=>{t.style.paddingRight=""}),document.body.style.paddingRight="",document.documentElement.classList.remove("lock")},t),n=!1,setTimeout(function(){n=!0},t)}};function a(){s(),document.documentElement.classList.remove("menu-open")}function i(t){setTimeout(()=>{window.FLS&&console.log(t)},0)}let o=(t,e=!1,n=500,s=0)=>{const o=document.querySelector(t);if(o){let c="",r=0;if(e){c="header.header";const t=document.querySelector(c);t.classList.contains("_header-scroll")?r=t.offsetHeight:(t.style.cssText="transition-duration: 0s;",t.classList.add("_header-scroll"),r=t.offsetHeight,t.classList.remove("_header-scroll"),setTimeout(()=>{t.style.cssText=""},0))}let l={speedAsDuration:!0,speed:n,header:c,offset:s,easing:"easeOutQuad"};if(document.documentElement.classList.contains("menu-open")&&a(),"undefined"!=typeof SmoothScroll)(new SmoothScroll).animateScroll(o,"",l);else{let t=o.getBoundingClientRect().top+scrollY;t=r?t-r:t,t=s?t-s:t,window.scrollTo({top:t,behavior:"smooth"})}i(`[gotoBlock]: Юхуу...едем в ${t}`)}else i(`[gotoBlock]: Ей... Такого блока нет на странице: ${t}`)},c=!1;setTimeout(()=>{if(c){let t=new Event("windowScroll");window.addEventListener("scroll",function(e){document.dispatchEvent(t)})}},0);new class{constructor(t){this.type=t}init(){this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=[...document.querySelectorAll("[data-da]")],this.nodes.forEach(t=>{const e=t.dataset.da.trim().split(","),n={};n.element=t,n.parent=t.parentNode,n.destination=document.querySelector(`${e[0].trim()}`),n.breakpoint=e[1]?e[1].trim():"767.98",n.place=e[2]?e[2].trim():"last",n.index=this.indexInParent(n.parent,n.element),this.оbjects.push(n)}),this.arraySort(this.оbjects),this.mediaQueries=this.оbjects.map(({breakpoint:t})=>`(${this.type}-width: ${t/16}em),${t}`).filter((t,e,n)=>n.indexOf(t)===e),this.mediaQueries.forEach(t=>{const e=t.split(","),n=window.matchMedia(e[0]),s=e[1],a=this.оbjects.filter(({breakpoint:t})=>t===s);n.addEventListener("change",()=>{this.mediaHandler(n,a)}),this.mediaHandler(n,a)})}mediaHandler(t,e){t.matches?e.forEach(t=>{this.moveTo(t.place,t.element,t.destination)}):e.forEach(({parent:t,element:e,index:n})=>{e.classList.contains(this.daClassname)&&this.moveBack(t,e,n)})}moveTo(t,e,n){e.classList.add(this.daClassname),"last"===t||t>=n.children.length?n.append(e):"first"!==t?n.children[t].before(e):n.prepend(e)}moveBack(t,e,n){e.classList.remove(this.daClassname),void 0!==t.children[n]?t.children[n].before(e):t.append(e)}indexInParent(t,e){return[...t.children].indexOf(e)}arraySort(t){"min"===this.type?t.sort((t,e)=>t.breakpoint===e.breakpoint?t.place===e.place?0:"first"===t.place||"last"===e.place?-1:"last"===t.place||"first"===e.place?1:0:t.breakpoint-e.breakpoint):t.sort((t,e)=>t.breakpoint===e.breakpoint?t.place===e.place?0:"first"===t.place||"last"===e.place?1:"last"===t.place||"first"===e.place?-1:0:e.breakpoint-t.breakpoint)}}("max").init();const r=(t,e=document)=>e.querySelector(t),l=(t,e=document)=>Array.from(e.querySelectorAll(t)),d=(t,e,n,s)=>t&&t.addEventListener(e,n,s);(()=>{const t=l(".promo__line");if(!t.length)return;const e=["Дело помощи утопающим — дело рук самих утопающих!","Шахматы двигают вперед не только культуру, но и экономику!","Лед тронулся, господа присяжные заседатели!"],n=document.createDocumentFragment();for(let t=0;t<9;t++)for(const t of e){const e=document.createElement("li");e.className="promo__line-text",e.textContent=t,n.appendChild(e)}for(const e of t)e.appendChild(n.cloneNode(!0))})(),(()=>{const t=l(".stages__item");if(!t.length)return;const e=r(".stages__nav--prev"),n=r(".stages__nav--next"),s=r(".stages__pagination");let a=0,i=!1,o=[];function c(){if(!o.length)return;const t=Math.floor(a/1);o.forEach((e,n)=>e.classList.toggle("is-active",n===t))}function u(){const s=t.length-1;e?.classList.toggle("is-disabled",a<=0),n?.classList.toggle("is-disabled",a>=s)}function p(){for(const e of t)e.classList.remove("is-active","is-prev","is-next"),e.style.zIndex=""}function m(e,n){if(i)return;i=!0;const s=t[a],o=t[e];s&&o?(t.forEach(t=>t.style.zIndex=""),s.classList.remove("is-active","is-prev","is-next"),s.classList.add("next"===n?"is-prev":"is-next"),s.style.zIndex="1",o.classList.remove("is-active","is-prev","is-next"),o.classList.add("next"===n?"is-next":"is-prev"),o.style.zIndex="2",requestAnimationFrame(()=>{requestAnimationFrame(()=>{o.classList.remove("is-prev","is-next"),o.classList.add("is-active")})}),setTimeout(()=>{var n;n=e,t.forEach((t,e)=>{t.classList.toggle("is-active",e===n),t.classList.remove("is-prev","is-next"),t.style.zIndex=e===n?"2":""}),i=!1},440)):i=!1}function h(e,n="next"){const s=function(e){const n=t.length-1;return Math.max(0,Math.min(e,n))}(e);s===a||i||(window.innerWidth<=768?m(s,n):(p(),t.forEach(t=>t.classList.add("is-active"))),a=s,u(),c(),l(".stages__item.is-active").forEach(t=>{const e=l(".stages__card",t);e.forEach((t,n)=>{t.classList.toggle("is-active",n!==e.length-1),t.classList.toggle("is-active-last",n===e.length-1)})}))}function f(){if(window.innerWidth>991?l(".stages__text").forEach(t=>{t.dataset.originalHtml&&(t.innerHTML=t.dataset.originalHtml)}):l(".stages__text").forEach(t=>t.querySelectorAll("br").forEach(t=>t.remove())),window.innerWidth>768)p(),t.forEach(t=>t.classList.add("is-active"));else{p();const e=t[a]||t[0];e?.classList.add("is-active"),e&&(e.style.zIndex="2")}u(),c()}d(e,"click",()=>!i&&h(a-1,"prev")),d(n,"click",()=>!i&&h(a+1,"next")),d(window,"resize",f),d(window,"DOMContentLoaded",()=>{l(".stages__text").forEach(t=>t.dataset.originalHtml=t.innerHTML),function(){if(!s)return;const e=Math.ceil(t.length/1);s.innerHTML="",o=[];for(let t=0;t<e;t++){const e=document.createElement("span");e.type="span",e.className="stages__dot",e.setAttribute("aria-label",`Слайд ${t+1}`),d(e,"click",()=>{if(i)return;const e=1*t;h(e,e>a?"next":"prev")}),s.appendChild(e),o.push(e)}c()}(),f(),c()})})(),(()=>{const t=r(".participants");if(!t)return;const e=r(".participants__viewport",t),n=r(".participants__track",t),s=l(".participants__slide",t);if(!e||!n||!s.length)return;const a=l(".participants__arrow--prev",t),i=l(".participants__arrow--next",t),o=l(".participants__current",t),c=l(".participants__total",t),u=s.length;c.forEach(t=>t.textContent=u),o.forEach(t=>t.textContent=1);let p=1,m=0,h=0;const f=()=>{const t=getComputedStyle(n);return parseFloat(t.columnGap||t.gap||"0")||0},g=()=>Math.max(0,u-p),v=()=>h=Math.max(0,Math.min(h,g())),w=()=>{const t=-h*(m+f());n.style.transform=`translateX(${t}px)`,o.forEach(t=>t.textContent=h+1),e.setAttribute("aria-live","polite")},y=()=>{const t=g();a.forEach(t=>t.disabled=0===h),i.forEach(e=>e.disabled=h===t)},L=()=>{(()=>{const t=e.clientWidth;p=t>=1200?3:t>=768?2:1})();const t=(e.clientWidth-f()*(p-1))/p;if(Math.abs(t-m)<.5)return v(),w(),void y();m=t,s.forEach(t=>t.style.width=`${m}px`),v(),w(),y()},_=()=>{h+=1,v(),w(),y()},b=()=>{h-=1,v(),w(),y()};i.forEach(t=>d(t,"click",_)),a.forEach(t=>d(t,"click",b)),e.setAttribute("tabindex","0"),d(e,"keydown",t=>{"ArrowRight"===t.key?_():"ArrowLeft"===t.key&&b()});let x=null,E=0,k=null;d(e,"pointerdown",t=>{x=t.clientX,E=0,k=t.pointerId,e.setPointerCapture(k)}),d(e,"pointermove",t=>{null!=x&&(E=t.clientX-x)}),d(e,"pointerup",()=>{null!=x&&(Math.abs(E)>.25*m&&(E<0?_():b()),x=null,E=0,k=null)});let A=0,S=0;const C=()=>{cancelAnimationFrame(A),A=requestAnimationFrame(L)};if("ResizeObserver"in window){new ResizeObserver(t=>{const e=Math.round(t[0].contentRect.width);e!==S&&(S=e,C())}).observe(e)}else d(window,"resize",C);d(window,"orientationchange",C);let I=null;const q=()=>{I&&(clearInterval(I),I=null)};[...a,...i].forEach(t=>d(t,"click",q)),d(e,"pointerdown",q),d(e,"keydown",q),L(),q(),I=setInterval(()=>{h<g()?_():q()},4e3)})(),window.FLS=!1,function(t){let e=new Image;e.onload=e.onerror=function(){t(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(function(t){let e=!0===t?"webp":"no-webp";document.documentElement.classList.add(e)}),function(){function n(e){if("click"===e.type){const n=e.target;if(n.closest("[data-goto]")){const s=n.closest("[data-goto]"),i=s.dataset.goto?s.dataset.goto:"",c=!!s.hasAttribute("data-goto-header"),r=s.dataset.gotoSpeed?s.dataset.gotoSpeed:500,l=s.dataset.gotoTop?parseInt(s.dataset.gotoTop):0;if(t.fullpage){const e=document.querySelector(`${i}`).closest("[data-fp-section]"),n=e?+e.dataset.fpId:null;null!==n&&(t.fullpage.switchingSection(n),document.documentElement.classList.contains("menu-open")&&a())}else o(i,c,r,l);e.preventDefault()}}else if("watcherCallback"===e.type&&e.detail){const t=e.detail.entry,n=t.target;if("navigator"===n.dataset.watch){document.querySelector("[data-goto]._navigator-active");let e;if(n.id&&document.querySelector(`[data-goto="#${n.id}"]`))e=document.querySelector(`[data-goto="#${n.id}"]`);else if(n.classList.length)for(let t=0;t<n.classList.length;t++){const s=n.classList[t];if(document.querySelector(`[data-goto=".${s}"]`)){e=document.querySelector(`[data-goto=".${s}"]`);break}}t.isIntersecting?e&&e.classList.add("_navigator-active"):e&&e.classList.remove("_navigator-active")}}}if(document.addEventListener("click",n),document.addEventListener("watcherCallback",n),e()){let t;document.querySelector(`#${e()}`)?t=`#${e()}`:document.querySelector(`.${e()}`)&&(t=`.${e()}`),t&&o(t,!0,500,20)}}()})();